<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="user-scalable=yes"/>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Calculadora</title>
    <link rel="stylesheet" href="css/stylesheet.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link href="css/animate.css" rel="stylesheet">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <style>
        label {
            font-size: 25px;
        }

        option {
            position: absolute;
            left: 30%;
        }

        option:checked {
            position: absolute;
            left: 30%;
        }

        select {
            position: absolute;
            right: 10%;
        }

        label {
            position: absolute;
            left: 10%;
        }

        input {
            position: absolute;
            right: 10%;
        }
        label,span{
            font-family: Arial;
        }
        .table-condensed>tbody>tr>td, .table-condensed>tbody>tr>th, .table-condensed>tfoot>tr>td, .table-condensed>tfoot>tr>th, .table-condensed>thead>tr>td, .table-condensed>thead>tr>th{
            padding: 1px;
        }
        td{
            text-align: center;
        }
        tr> td:first-child{
            text-align: left;
        }
        .table{
            margin-left: 5%;
            width: 90%;
        }
    </style>
    <link href="css/stylesheet.css" rel="stylesheet">
    <script type="application/javascript" src="js/iscroll.js"></script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery.min.js"></script>
    <script src="js/javascript.js"></script>


</head>
<body>
<div class="content" id="content">
    <div class="home" style="display: block">
        <img src="img/slides/Base-calculadora-opioides.jpg">
        <div class="home" style="display: block">
            <label for="mg" style="top: 15%;">Dosis</label>
            <input size="3" type="number" name="mg" id="mg" style="top: 14.5%;width: 25%;height: 30px;font-size:22px;">
            <label for="sel1" style="top: 22%;">Desde</label>
            <select name="sel1" size="1" style="top: 21.5%;height: 30px;font-size:18px;" id="sel1">
                <option selected="" value="1" unit="mg" to="mg" name="Morfina VO">selecciona</option>
                <option value="1" unit="mg" to="mg" name="Morfina VO">Morfina VO mg</option>
                <option value="0.66666666667" unit="mg" to="mg" name="Morfina SC">Morfina SC mg</option>
                <option value="0.33333333334" unit="mg" to="mg" name="Morfina EV">Morfina EV mg</option>
                <option value="6.66666666667" unit="mg" to="mg" name="Tramadol">Tramadol mg</option>
                <option value="0.33333333334" unit="ug/hr" to="mg al dia" name="Fentanilo">Fentanilo ug/hr</option>
                <option value="0.2" unit="mg" to="mg" name="Metadona VO">Metadona VO mg</option>
                <option value="0.2" unit="mg" to="mg" name="Metadona SC">Metadona SC mg</option>
                <option value="0.2" unit="mg" to="mg" name="Metadona EV">Metadona EV mg</option>
                <option value="0.58333333333" unit="ug/hr" to="mg al dia" name="Buprenorfina">Buprenorfina ug/hr</option>
            </select>
            <label for="sel2" style="top: 30%;">A</label>
            <select name="sel2" size="1" style="top: 29.5%;height: 30px;font-size:18px;" id="sel2">
                <option selected="" value="1" unit="mg" to="mg" name="Morfina VO">selecciona</option>
                <option value="1" unit="mg" to="mg" name="Morfina VO">Morfina VO mg</option>
                <option value="0.66666666667" unit="mg" to="mg" name="Morfina SC">Morfina SC mg</option>
                <option value="0.33333333334" unit="mg" to="mg" name="Morfina EV">Morfina EV mg</option>
                <option value="6.66666666667" unit="mg" to="mg" name="Tramadol">Tramadol mg</option>
                <option value="0.33333333334" unit="ug/hr" to="mg al dia" name="Fentanilo">Fentanilo ug/hr</option>
                <option value="0.2" unit="mg" to="mg" name="Metadona VO">Metadona VO mg</option>
                <option value="0.2" unit="mg" to="mg" name="Metadona SC">Metadona SC mg</option>
                <option value="0.2" unit="mg" to="mg" name="Metadona EV">Metadona EV mg</option>
                <option value="0.58333333333" unit="ug/hr" to="mg al dia" name="Buprenorfina">Buprenorfina ug/hr</option>
            </select>
            <div style="width: 100%;position: absolute;text-align: center;top: 45%">
                <span id="resultado1" style="font-size: 26px;"></span>
                <br><br><br>
                <span id="resultado2" style="font-size: 26px;"></span>
                <br>
                <span id="resultado4" style="font-size: 18px;"></span>
                <br><br>
                <span id="resultado3" style="font-size: 18px">Al rotar opioides reduzca <br> un 30%-50% la dosis</span>
            </div>
            <a href="home.html" style="width: 13.3%;height: 8%;left: 18.7%;top: 91%;"> </a>
            <a href="opioides.html" style="width: 12.3%;height: 8%;left: 43.2%;top: 91%;"> </a>
            <a href="#" style="width: 13.3%;height: 8%;left: 66.2%;top: 91%;" id="back"> </a>
        </div>
    </div>
</div>
<script>
    function calcEqui(){
        let mg = $("#mg").val();
        let val1 = $("#sel1").val();
        let val2 = $("#sel2").val();
        let unit = $('#sel2').children('option:selected', this).attr('unit');
        let to = $('#sel1').children('option:selected', this).attr('to');
        let name = $('#sel2').children('option:selected', this).attr('name');
        let name1 = $('#sel1').children('option:selected', this).attr('name');
        let text = '';
        if(name1 === 'Morfina EV' && name === 'Metadona EV')
            text = 'No existe conversión directa, solo aproximado.' +
                'Use con precaución';

        $("#resultado4").html(text);

        let morfina_vo = (mg/val1);
        morfina_vo = Math.round(morfina_vo);
        let new_val = morfina_vo*val2;
        new_val = Math.round(new_val);

        $("#resultado1").html("Morfina VO: <span style='color: #000000;font-weight: bold;font-size: 30px'>"+ morfina_vo +"</span> "+to);
        $("#resultado2").html(name+": <span style='color: lightseagreen;font-weight: bold;font-size: 30px'>"+ new_val +"</span> "+unit);

    }
    $("#mg").keyup(function () {
        calcEqui()
    });
    $("#sel1").change(function () {
        calcEqui()
    });
    $("#sel2").change(function () {
        calcEqui()
    });
    calcEqui()
</script>
</body>
</html>